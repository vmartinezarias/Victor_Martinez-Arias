<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Victor M. Martinez-Arias | Biologist & Researcher</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM (UMD for browser) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone (to compile JSX in browser) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      :root {
        --primary: #2c5530; /* Forest Green */
        --secondary: #5e7c62; /* Sage */
        --accent: #d4a373; /* Earthy Gold */
        --text-main: #1f2937;
        --text-light: #6b7280;
        --bg-light: #f9fafb;
        --white: #ffffff;
      }
      
      body {
        margin: 0;
        font-family: 'Inter', sans-serif;
        color: var(--text-main);
        background-color: var(--white);
        line-height: 1.6;
      }

      h1, h2, h3, h4, h5, h6 {
        font-family: 'Merriweather', serif;
        color: var(--primary);
        margin-top: 0;
      }

      a {
        text-decoration: none;
        color: inherit;
        transition: color 0.3s ease;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }
      
      .section-padding {
        padding: 80px 0;
      }

      html {
        scroll-behavior: smooth;
      }

      /* Animations */
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }

      @keyframes slideUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }

      .spin {
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }

      /* Utility for components */
      .btn-hover:hover {
        transform: scale(1.05);
        transition: transform 0.2s ease;
      }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- CONFIGURATION ---
        // IMPORTANTE: REEMPLAZA ESTO CON TU API KEY REAL PARA EL CHATBOT
        // Si no la pones, el chat no responderá.
        const API_KEY = "TU_API_KEY_AQUI"; 

        // --- ICONS (SVG Components to avoid external dependencies) ---
        const Icons = {
            MapPin: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>,
            Mail: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>,
            ExternalLink: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>,
            BookOpen: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            Trees: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1.1-5.8V10a3 3 0 0 1 5.3-2.1l.4.4"/><path d="M7 16v6"/><path d="M13 19v3"/><path d="M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .6-1.7L13 2.1a1 1 0 0 0-1.8 0l-3.8 5.2a1 1 0 0 0 .6 1.7h.2l-3 4.1a1 1 0 0 0 .7 1.7H12Z"/></svg>,
            Activity: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
            Mic2: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 8-9.04 9.06a2.82 2.82 0 0 0 3.98 3.98L16 12"/><circle cx="17" cy="7" r="5"/></svg>,
            Menu: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>,
            X: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 18 12"/></svg>,
            GraduationCap: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg>,
            Briefcase: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>,
            Layers: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"/><path d="m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65"/><path d="m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"/></svg>,
            MessageCircle: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></svg>,
            Send: ({size=24, color="currentColor"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>,
            Loader2: ({size=24, color="currentColor", className=""}) => <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>
        };

        // --- DATA ---
        const PERSONAL_INFO = {
            name: "Victor M. Martinez-Arias",
            title: "Biologist | MSc. Forest & Environmental Conservation | PhD Candidate",
            email: "vmanuel.martinez@udea.edu.co",
            location: "Antioquia, Colombia",
            orcid: "0000-0002-3328-130X",
            scholar: "https://scholar.google.com/citations?hl=es&user=wfx4nqIAAAAJ",
            affiliation: "Member of GHA - Grupo Herpetológico de Antioquia",
            bio: "Biologist, MSc, and PhD Candidate in Biology with extensive experience in spatial and landscape ecology, ecoacoustics, mammal systematics, and conservation biology. Specialized in data collection, processing, and analysis using multivariate statistics and GIS. I focus on understanding connectivity, soundscapes, and biodiversity patterns to inform conservation strategies.",
        };

        const INTERESTS = [
            {
                title: "Ecoacoustics",
                description: "Analyzing soundscapes to understand biodiversity patterns and ecosystem health using advanced processing tools.",
                icon: "Mic2",
            },
            {
                title: "Landscape Ecology",
                description: "Studying spatial heterogeneity and its impact on ecological processes, connectivity, and species distribution.",
                icon: "Trees",
            },
            {
                title: "Mammalogy",
                description: "Researching mammal systematics, taxonomy, and conservation (Mastozoología), with a focus on Neotropical species.",
                icon: "Activity",
            }
        ];

        const EXPERIENCE = [
            {
                role: "PhD Candidate in Biology",
                org: "Universidad de Antioquia",
                period: "2022 - Present",
                desc: "Advisor: PhD. Juan M. Daza Rojas. Focusing on ecoacoustics and landscape ecology.",
            },
            {
                role: "Soundscape Analyst / Sub-coordinator",
                org: "Universidad de Antioquia - SGI",
                period: "2021 - 2022",
                desc: "Soundscape component coordinator for 'Platero' project and acoustic reviewer for 'Kalé'. Analysis of ultrasonic data.",
            },
            {
                role: "Consultant (Data & Ecological Connectivity)",
                org: "Merceditas Corp, Viable S.A.S., Fundación Cunaguaro",
                period: "2011 - 2024",
                desc: "Specialized consultant for over 33 environmental projects involving mammal studies, fauna management, and connectivity models.",
            },
            {
                role: "Fauna Component Coordinator",
                org: "Chemonics International",
                period: "2017 - 2020",
                desc: "Review and construction of reports, spatial analysis, and ecological connectivity assessments.",
            }
        ];

        const EDUCATION = [
            {
                degree: "MSc. Forests and Environmental Conservation",
                school: "Universidad Nacional de Colombia",
                year: "2021",
            },
            {
                degree: "BSc. Biology",
                school: "Universidad de Antioquia",
                year: "2011",
                note: "Advisor: Dr. Sergio Solari",
            },
            {
                degree: "Specialized Course: Data Scientist's Toolbox",
                school: "Johns Hopkins University (Coursera)",
                year: "2020",
            }
        ];

        const SKILLS = {
            languages: ["Spanish (Native)", "English (Professional)"],
            programming: ["R", "Python", "Julia"],
            software: ["QGIS", "ArcGIS", "Raven", "Kaleidoscope", "Circuitscape", "Maxent"],
        };

        const PUBLICATIONS = [
            {
                title: "Letting ecosystems speak for themselves: An unsupervised methodology for mapping landscape acoustic heterogeneity",
                journal: "Environmental Modelling & Software",
                year: "2025",
                authors: "Rendon, N., Guerrero, M.J., Sanchez-Giraldo, C., Martinez-Arias, V.M., et al.",
            },
            {
                title: "Aves migratorias neárticas–neotropicales en el departamento de Antioquia",
                journal: "Ornitología Colombiana",
                year: "2024",
                authors: "Tejada-Arango, R., Garizábal-Carmona, J.A., Martinez-Arias, V.M.",
            },
            {
                title: "Built vs Green cover: an unequal struggle for urban space in Medellín",
                journal: "Urban Ecosystems",
                year: "2024",
                authors: "Paniagua-Villada, C., Martinez-Arias, V., et al.",
            },
            {
                title: "Predicted distributions of two poorly known small carnivores in Colombia",
                journal: "Mastozoología Neotropical",
                year: "2018",
                authors: "Meza-Joya, F.L., Martinez-Arias, V.M., et al.",
            }
        ];

        // --- COMPONENTS ---

        const Chatbot = () => {
            const [isOpen, setIsOpen] = React.useState(false);
            const [messages, setMessages] = React.useState([
                { role: 'model', text: "Hi! I'm Victor's AI assistant. Ask me anything about his research, experience, or publications." }
            ]);
            const [input, setInput] = React.useState("");
            const [isLoading, setIsLoading] = React.useState(false);
            const messagesEndRef = React.useRef(null);

            const scrollToBottom = () => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            };

            React.useEffect(() => {
                scrollToBottom();
            }, [messages, isOpen]);

            const handleSend = async (e) => {
                if (e) e.preventDefault();
                if (!input.trim() || isLoading) return;

                const userText = input;
                setInput("");
                const newMessages = [...messages, { role: 'user', text: userText }];
                setMessages(newMessages);
                setIsLoading(true);

                try {
                    // Using REST API instead of SDK for simple browser-only implementation
                    if (API_KEY === "TU_API_KEY_AQUI") {
                        throw new Error("Missing API Key");
                    }

                    const contextData = {
                        personal: PERSONAL_INFO,
                        interests: INTERESTS,
                        experience: EXPERIENCE,
                        education: EDUCATION,
                        skills: SKILLS,
                        publications: PUBLICATIONS
                    };

                    const systemInstruction = `You are an AI assistant for Victor M. Martinez-Arias's professional portfolio.
                    Your task is to answer questions about Victor based STRICTLY on the provided JSON context.

                    Context: ${JSON.stringify(contextData)}
                    
                    Guidelines:
                    1. Be polite, professional, and concise (under 100 words).
                    2. Respond in the same language as the user (English or Spanish).
                    3. If the answer isn't in the context, politely state you only have information about his professional background.
                    `;

                    const contents = [
                        { role: 'user', parts: [{ text: systemInstruction }] },
                        ...newMessages.map(msg => ({
                            role: msg.role === 'user' ? 'user' : 'model',
                            parts: [{ text: msg.text }]
                        }))
                    ];

                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: contents })
                    });

                    const data = await response.json();
                    
                    if (data.error) {
                        throw new Error(data.error.message);
                    }

                    const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "No response generated.";
                    setMessages(prev => [...prev, { role: 'model', text }]);

                } catch (error) {
                    console.error("Chat error:", error);
                    let errorMsg = "Sorry, error connecting to AI.";
                    if (error.message === "Missing API Key") errorMsg = "System Error: API Key not configured in index.html";
                    setMessages(prev => [...prev, { role: 'model', text: errorMsg }]);
                } finally {
                    setIsLoading(false);
                }
            };

            return (
                <React.Fragment>
                    {/* Toggle Button */}
                    <button
                        onClick={() => setIsOpen(!isOpen)}
                        className="btn-hover"
                        style={{
                            position: 'fixed',
                            bottom: '2rem',
                            right: '2rem',
                            width: '60px',
                            height: '60px',
                            borderRadius: '50%',
                            backgroundColor: 'var(--primary)',
                            color: 'white',
                            border: 'none',
                            boxShadow: '0 4px 12px rgba(0,0,0,0.3)',
                            cursor: 'pointer',
                            zIndex: 1001,
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                        }}
                    >
                        {isOpen ? <Icons.X size={28} /> : <Icons.MessageCircle size={28} />}
                    </button>

                    {/* Chat Window */}
                    {isOpen && (
                        <div style={{
                            position: 'fixed',
                            bottom: 'calc(2rem + 75px)',
                            right: '2rem',
                            width: 'min(380px, calc(100vw - 4rem))',
                            height: '500px',
                            backgroundColor: 'white',
                            borderRadius: '16px',
                            boxShadow: '0 10px 25px rgba(0,0,0,0.15)',
                            zIndex: 1001,
                            display: 'flex',
                            flexDirection: 'column',
                            overflow: 'hidden',
                            border: '1px solid #e5e7eb',
                            animation: 'slideUp 0.3s ease-out'
                        }}>
                            {/* Header */}
                            <div style={{
                                padding: '1rem',
                                backgroundColor: 'var(--primary)',
                                color: 'white',
                                display: 'flex',
                                alignItems: 'center',
                                gap: '0.75rem'
                            }}>
                                <div style={{ 
                                    width: '32px', height: '32px', 
                                    backgroundColor: 'rgba(255,255,255,0.2)', 
                                    borderRadius: '50%', 
                                    display: 'flex', alignItems: 'center', justifyContent: 'center' 
                                }}>
                                    <Icons.Mic2 size={18} />
                                </div>
                                <div>
                                    <h3 style={{ margin: 0, fontSize: '1rem', fontFamily: 'Inter, sans-serif' }}>Ask about Victor</h3>
                                    <span style={{ fontSize: '0.75rem', opacity: 0.9 }}>Powered by Gemini</span>
                                </div>
                            </div>

                            {/* Messages */}
                            <div style={{
                                flex: 1,
                                padding: '1rem',
                                overflowY: 'auto',
                                display: 'flex',
                                flexDirection: 'column',
                                gap: '1rem',
                                backgroundColor: '#f9fafb'
                            }}>
                                {messages.map((msg, idx) => (
                                    <div key={idx} style={{
                                        display: 'flex',
                                        justifyContent: msg.role === 'user' ? 'flex-end' : 'flex-start'
                                    }}>
                                        <div style={{
                                            maxWidth: '85%',
                                            padding: '0.75rem 1rem',
                                            borderRadius: '12px',
                                            borderBottomRightRadius: msg.role === 'user' ? '2px' : '12px',
                                            borderBottomLeftRadius: msg.role === 'model' ? '2px' : '12px',
                                            backgroundColor: msg.role === 'user' ? 'var(--secondary)' : 'white',
                                            color: msg.role === 'user' ? 'white' : 'var(--text-main)',
                                            boxShadow: '0 2px 4px rgba(0,0,0,0.05)',
                                            fontSize: '0.95rem'
                                        }}>
                                            {msg.text}
                                        </div>
                                    </div>
                                ))}
                                {isLoading && (
                                    <div style={{ display: 'flex', justifyContent: 'flex-start' }}>
                                        <div style={{
                                            padding: '0.75rem 1rem',
                                            backgroundColor: 'white',
                                            borderRadius: '12px',
                                            borderBottomLeftRadius: '2px',
                                            boxShadow: '0 2px 4px rgba(0,0,0,0.05)'
                                        }}>
                                            <Icons.Loader2 className="spin" size={20} color="var(--primary)" />
                                        </div>
                                    </div>
                                )}
                                <div ref={messagesEndRef} />
                            </div>

                            {/* Input */}
                            <form onSubmit={handleSend} style={{
                                padding: '1rem',
                                borderTop: '1px solid #e5e7eb',
                                display: 'flex',
                                gap: '0.5rem',
                                backgroundColor: 'white'
                            }}>
                                <input
                                    type="text"
                                    value={input}
                                    onChange={(e) => setInput(e.target.value)}
                                    placeholder="Ask a question..."
                                    style={{
                                        flex: 1,
                                        padding: '0.75rem',
                                        borderRadius: '8px',
                                        border: '1px solid #e5e7eb',
                                        outline: 'none',
                                        fontFamily: 'inherit'
                                    }}
                                />
                                <button
                                    type="submit"
                                    disabled={isLoading || !input.trim()}
                                    style={{
                                        backgroundColor: 'var(--primary)',
                                        color: 'white',
                                        border: 'none',
                                        borderRadius: '8px',
                                        width: '40px',
                                        display: 'flex',
                                        alignItems: 'center',
                                        justifyContent: 'center',
                                        cursor: isLoading || !input.trim() ? 'not-allowed' : 'pointer',
                                        opacity: isLoading || !input.trim() ? 0.7 : 1
                                    }}
                                >
                                    <Icons.Send size={20} />
                                </button>
                            </form>
                        </div>
                    )}
                </React.Fragment>
            );
        };

        const Nav = () => {
            const [isOpen, setIsOpen] = React.useState(false);
            const [scrolled, setScrolled] = React.useState(false);

            React.useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const links = [
                { name: 'Home', href: '#home' },
                { name: 'About', href: '#about' },
                { name: 'Research', href: '#research' },
                { name: 'Experience', href: '#experience' },
                { name: 'Publications', href: '#publications' },
            ];

            return (
                <nav style={{
                    position: 'fixed',
                    top: 0,
                    left: 0,
                    right: 0,
                    zIndex: 1000,
                    backgroundColor: scrolled ? 'rgba(255, 255, 255, 0.95)' : 'transparent',
                    boxShadow: scrolled ? '0 2px 10px rgba(0,0,0,0.1)' : 'none',
                    transition: 'all 0.3s ease',
                    padding: '1rem 0',
                    color: scrolled ? '#1f2937' : 'white'
                }}>
                    <div className="container" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                        <a href="#" style={{ fontWeight: 700, fontSize: '1.2rem', fontFamily: 'Merriweather, serif' }}>
                            V.M. Martinez-Arias
                        </a>

                        {/* Desktop Menu */}
                        <div style={{ display: 'flex', gap: '2rem', alignItems: 'center' }} className="desktop-menu">
                            {links.map(link => (
                                <a key={link.name} href={link.href} style={{ fontSize: '0.95rem', fontWeight: 500 }}>
                                    {link.name}
                                </a>
                            ))}
                            <a href={PERSONAL_INFO.scholar} target="_blank" rel="noreferrer" 
                               style={{ 
                                   padding: '0.5rem 1rem', 
                                   backgroundColor: scrolled ? 'var(--primary)' : 'rgba(255,255,255,0.2)', 
                                   color: 'white', 
                                   borderRadius: '4px',
                                   fontSize: '0.9rem'
                               }}>
                                Google Scholar
                            </a>
                        </div>

                        {/* Mobile Toggle */}
                        <button onClick={() => setIsOpen(!isOpen)} style={{ background: 'none', border: 'none', color: 'inherit', cursor: 'pointer' }} className="mobile-toggle">
                            {isOpen ? <Icons.X size={24} /> : <Icons.Menu size={24} />}
                        </button>
                    </div>

                    {/* Mobile Menu */}
                    {isOpen && (
                        <div style={{
                            position: 'absolute',
                            top: '100%',
                            left: 0,
                            right: 0,
                            backgroundColor: 'white',
                            padding: '1rem',
                            boxShadow: '0 4px 6px rgba(0,0,0,0.1)',
                            display: 'flex',
                            flexDirection: 'column',
                            gap: '1rem',
                            color: '#1f2937'
                        }}>
                            {links.map(link => (
                                <a key={link.name} href={link.href} onClick={() => setIsOpen(false)} style={{ padding: '0.5rem' }}>
                                    {link.name}
                                </a>
                            ))}
                        </div>
                    )}
                    
                    <style>{`
                        @media (max-width: 768px) {
                            .desktop-menu { display: none !important; }
                        }
                        @media (min-width: 769px) {
                            .mobile-toggle { display: none !important; }
                        }
                    `}</style>
                </nav>
            );
        };

        const Hero = () => {
            return (
                <section id="home" style={{
                    height: '100vh',
                    backgroundImage: `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)), url("hero.jpg")`,
                    backgroundSize: 'cover',
                    backgroundPosition: 'center',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    textAlign: 'center',
                    color: 'white',
                    padding: '0 20px'
                }}>
                    {/* Fallback for background image if hero.jpg fails loading (using JS to handle style fallback is tricky, so we rely on user uploading the file, but here is a safe default in case) */}
                    <img 
                        src="hero.jpg" 
                        style={{display: 'none'}} 
                        onError={(e) => {
                            const section = document.getElementById('home');
                            // Fallback to a nice forest gradient if image is missing
                            section.style.backgroundImage = `linear-gradient(to bottom right, #2c5530, #1a2f1d)`;
                        }}
                    />
                    
                    <div style={{ maxWidth: '800px', animation: 'fadeIn 1s ease-out' }}>
                        <h1 style={{ fontSize: 'clamp(2.5rem, 5vw, 4rem)', marginBottom: '1rem', color: 'white' }}>
                            {PERSONAL_INFO.name}
                        </h1>
                        <p style={{ fontSize: 'clamp(1.1rem, 2vw, 1.5rem)', marginBottom: '2rem', fontWeight: 300, opacity: 0.9 }}>
                            {PERSONAL_INFO.title}
                        </p>
                        <div style={{ display: 'flex', gap: '1rem', justifyContent: 'center', flexWrap: 'wrap' }}>
                            <span style={{ border: '1px solid rgba(255,255,255,0.5)', padding: '0.5rem 1rem', borderRadius: '50px', backdropFilter: 'blur(5px)' }}>Ecoacoustics</span>
                            <span style={{ border: '1px solid rgba(255,255,255,0.5)', padding: '0.5rem 1rem', borderRadius: '50px', backdropFilter: 'blur(5px)' }}>Landscape Ecology</span>
                            <span style={{ border: '1px solid rgba(255,255,255,0.5)', padding: '0.5rem 1rem', borderRadius: '50px', backdropFilter: 'blur(5px)' }}>Mammalogy</span>
                        </div>
                    </div>
                </section>
            );
        };

        const About = () => {
            return (
                <section id="about" className="section-padding" style={{ backgroundColor: 'white' }}>
                    <div className="container" style={{ display: 'flex', flexDirection: 'column', gap: '4rem' }}>
                        
                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '3rem', alignItems: 'center' }}>
                            <div style={{ position: 'relative' }}>
                                <div style={{
                                    position: 'absolute',
                                    top: '20px',
                                    left: '20px',
                                    right: '-20px',
                                    bottom: '-20px',
                                    backgroundColor: 'var(--secondary)',
                                    opacity: 0.2,
                                    borderRadius: '8px',
                                    zIndex: 0
                                }}></div>
                                <img 
                                    src="profile.jpg" 
                                    alt="Victor M. Martinez-Arias" 
                                    onError={(e) => {
                                        e.target.onerror = null; 
                                        e.target.src="https://images.unsplash.com/photo-1534531173927-aeb928d54385?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"; // Fallback generic person
                                    }}
                                    style={{ 
                                        width: '100%', 
                                        borderRadius: '8px', 
                                        position: 'relative', 
                                        zIndex: 1, 
                                        boxShadow: '0 10px 30px rgba(0,0,0,0.1)',
                                        aspectRatio: '3/4',
                                        objectFit: 'cover'
                                    }} 
                                />
                            </div>
                            
                            <div>
                                <h2 style={{ fontSize: '2.5rem', marginBottom: '1.5rem' }}>About Me</h2>
                                <p style={{ fontSize: '1.1rem', color: 'var(--text-light)', marginBottom: '1.5rem' }}>
                                    {PERSONAL_INFO.bio}
                                </p>
                                <p style={{ fontSize: '1.1rem', color: 'var(--text-light)', marginBottom: '2rem' }}>
                                    I am a proud member of the <strong>GHA (Grupo Herpetológico de Antioquia)</strong> at Universidad de Antioquia. My work bridges the gap between raw data and conservation action, employing advanced technological tools to understand how sound and landscape structure influence biodiversity.
                                </p>
                                
                                <div style={{ display: 'flex', gap: '1rem' }}>
                                    <a href={`mailto:${PERSONAL_INFO.email}`} style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', color: 'var(--primary)', fontWeight: 600 }}>
                                        <Icons.Mail size={20} /> Contact Me
                                    </a>
                                    <a href={PERSONAL_INFO.scholar} target="_blank" rel="noreferrer" style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', color: 'var(--primary)', fontWeight: 600 }}>
                                        <Icons.BookOpen size={20} /> Publications
                                    </a>
                                </div>
                            </div>
                        </div>

                        {/* Skills Section */}
                        <div style={{ backgroundColor: 'var(--bg-light)', padding: '2rem', borderRadius: '12px' }}>
                            <h3 style={{ marginBottom: '1.5rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                <Icons.Layers size={24} /> Technical Skills
                            </h3>
                            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '2rem' }}>
                                <div>
                                    <h4 style={{ fontSize: '1rem', color: 'var(--text-main)', marginBottom: '1rem' }}>Data & Programming</h4>
                                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>
                                        {SKILLS.programming.map(skill => (
                                            <span key={skill} style={{ fontSize: '0.9rem', padding: '0.25rem 0.75rem', backgroundColor: 'white', border: '1px solid #e5e7eb', borderRadius: '4px' }}>
                                                {skill}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                                <div>
                                    <h4 style={{ fontSize: '1rem', color: 'var(--text-main)', marginBottom: '1rem' }}>Software & GIS</h4>
                                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>
                                        {SKILLS.software.map(skill => (
                                            <span key={skill} style={{ fontSize: '0.9rem', padding: '0.25rem 0.75rem', backgroundColor: 'white', border: '1px solid #e5e7eb', borderRadius: '4px' }}>
                                                {skill}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </section>
            );
        };

        const ResearchInterests = () => {
            const getIcon = (name) => {
                const IconComponent = Icons[name];
                return IconComponent ? <IconComponent size={32} /> : null;
            };

            return (
                <section id="research" className="section-padding" style={{ backgroundColor: 'var(--bg-light)' }}>
                    <div className="container">
                        <div style={{ textAlign: 'center', maxWidth: '700px', margin: '0 auto 4rem auto' }}>
                            <h2>Research Interests</h2>
                            <p style={{ color: 'var(--text-light)' }}>My academic and professional journey focuses on these key pillars.</p>
                        </div>

                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '2rem' }}>
                            {INTERESTS.map((item, idx) => (
                                <div key={idx} style={{ 
                                    backgroundColor: 'white', 
                                    borderRadius: '12px', 
                                    overflow: 'hidden', 
                                    boxShadow: '0 4px 6px rgba(0,0,0,0.05)',
                                    transition: 'transform 0.3s ease',
                                    height: '100%'
                                }} className="btn-hover">
                                    {item.title === 'Mammalogy' && (
                                        <div style={{ height: '200px', overflow: 'hidden' }}>
                                            <img 
                                                src="mammal.jpg" 
                                                alt="Mammalogy" 
                                                onError={(e) => {
                                                    e.target.onerror = null;
                                                    e.target.src="https://images.unsplash.com/photo-1570530869677-1834226f3162?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"; // Fallback opossum/nature
                                                }}
                                                style={{ width: '100%', height: '100%', objectFit: 'cover' }} 
                                            />
                                        </div>
                                    )}
                                    <div style={{ padding: '2rem' }}>
                                        <div style={{ 
                                            width: '60px', height: '60px', 
                                            backgroundColor: 'var(--bg-light)', 
                                            borderRadius: '50%', 
                                            display: 'flex', 
                                            alignItems: 'center', 
                                            justifyContent: 'center',
                                            color: 'var(--primary)',
                                            marginBottom: '1.5rem'
                                        }}>
                                            {getIcon(item.icon)}
                                        </div>
                                        <h3 style={{ fontSize: '1.25rem', marginBottom: '1rem' }}>{item.title}</h3>
                                        <p style={{ color: 'var(--text-light)' }}>{item.description}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const Timeline = () => {
            return (
                <section id="experience" className="section-padding" style={{ backgroundColor: 'white' }}>
                    <div className="container">
                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))', gap: '4rem' }}>
                            
                            {/* Experience Column */}
                            <div>
                                <h2 style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '2rem' }}>
                                    <Icons.Briefcase /> Professional Experience
                                </h2>
                                <div style={{ borderLeft: '2px solid var(--bg-light)', paddingLeft: '2rem', display: 'flex', flexDirection: 'column', gap: '3rem' }}>
                                    {EXPERIENCE.map((job, idx) => (
                                        <div key={idx} style={{ position: 'relative' }}>
                                            <div style={{ 
                                                position: 'absolute', 
                                                left: '-2.6rem', 
                                                top: '0.25rem', 
                                                width: '1.2rem', 
                                                height: '1.2rem', 
                                                backgroundColor: 'var(--primary)', 
                                                borderRadius: '50%',
                                                border: '4px solid white'
                                            }}></div>
                                            <span style={{ fontSize: '0.9rem', color: 'var(--secondary)', fontWeight: 600 }}>{job.period}</span>
                                            <h3 style={{ fontSize: '1.2rem', margin: '0.5rem 0' }}>{job.role}</h3>
                                            <h4 style={{ fontSize: '1rem', fontWeight: 500, color: 'var(--text-light)', marginBottom: '0.5rem' }}>{job.org}</h4>
                                            <p style={{ fontSize: '0.95rem', color: 'var(--text-light)' }}>{job.desc}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Education Column */}
                            <div>
                                <h2 style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '2rem' }}>
                                    <Icons.GraduationCap /> Education
                                </h2>
                                <div style={{ borderLeft: '2px solid var(--bg-light)', paddingLeft: '2rem', display: 'flex', flexDirection: 'column', gap: '3rem' }}>
                                    {EDUCATION.map((edu, idx) => (
                                        <div key={idx} style={{ position: 'relative' }}>
                                            <div style={{ 
                                                position: 'absolute', 
                                                left: '-2.6rem', 
                                                top: '0.25rem', 
                                                width: '1.2rem', 
                                                height: '1.2rem', 
                                                backgroundColor: 'var(--accent)', 
                                                borderRadius: '50%',
                                                border: '4px solid white'
                                            }}></div>
                                            <span style={{ fontSize: '0.9rem', color: 'var(--secondary)', fontWeight: 600 }}>{edu.year}</span>
                                            <h3 style={{ fontSize: '1.2rem', margin: '0.5rem 0' }}>{edu.degree}</h3>
                                            <h4 style={{ fontSize: '1rem', fontWeight: 500, color: 'var(--text-light)' }}>{edu.school}</h4>
                                            {edu.note && <p style={{ fontSize: '0.9rem', color: 'var(--text-light)', marginTop: '0.5rem', fontStyle: 'italic' }}>{edu.note}</p>}
                                        </div>
                                    ))}
                                </div>
                                
                                <div style={{ marginTop: '4rem' }}>
                                    <img 
                                        src="team.jpg" 
                                        alt="Field Team" 
                                        onError={(e) => {
                                            e.target.onerror = null;
                                            e.target.src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"; // Fallback team
                                        }}
                                        style={{ width: '100%', borderRadius: '12px', filter: 'grayscale(100%)', boxShadow: '0 4px 20px rgba(0,0,0,0.1)' }} 
                                    />
                                    <p style={{ fontSize: '0.85rem', color: 'var(--text-light)', textAlign: 'center', marginTop: '0.5rem' }}>Field work expedition</p>
                                </div>
                            </div>

                        </div>
                    </div>
                </section>
            );
        };

        const Publications = () => {
            return (
                <section id="publications" className="section-padding" style={{ backgroundColor: 'var(--primary)', color: 'white' }}>
                    <div className="container">
                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end', marginBottom: '3rem', flexWrap: 'wrap', gap: '1rem' }}>
                            <div>
                                <h2 style={{ color: 'white', marginBottom: '0.5rem' }}>Selected Publications</h2>
                                <p style={{ opacity: 0.8 }}>Recent contributions to science</p>
                            </div>
                            <a href={PERSONAL_INFO.scholar} target="_blank" rel="noreferrer" style={{ 
                                display: 'flex', alignItems: 'center', gap: '0.5rem', 
                                backgroundColor: 'rgba(255,255,255,0.1)', padding: '0.75rem 1.5rem', 
                                borderRadius: '50px', backdropFilter: 'blur(5px)', transition: 'background 0.3s'
                            }}>
                                View all on Google Scholar <Icons.ExternalLink size={16} />
                            </a>
                        </div>

                        <div style={{ display: 'grid', gap: '1.5rem' }}>
                            {PUBLICATIONS.map((pub, idx) => (
                                <div key={idx} style={{ 
                                    backgroundColor: 'rgba(255,255,255,0.05)', 
                                    padding: '1.5rem', 
                                    borderRadius: '8px',
                                    borderLeft: '4px solid var(--accent)'
                                }}>
                                    <h3 style={{ fontSize: '1.1rem', marginBottom: '0.5rem', color: 'white' }}>{pub.title}</h3>
                                    <div style={{ fontSize: '0.9rem', opacity: 0.9, marginBottom: '0.5rem' }}>
                                        <span style={{ fontWeight: 600 }}>{pub.journal}</span> • {pub.year}
                                    </div>
                                    <p style={{ fontSize: '0.9rem', opacity: 0.7 }}>{pub.authors}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const Footer = () => {
            return (
                <footer style={{ backgroundColor: '#111827', color: 'white', padding: '4rem 0' }}>
                    <div className="container">
                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '3rem', marginBottom: '3rem' }}>
                            
                            <div>
                                <h3 style={{ color: 'white', marginBottom: '1rem' }}>{PERSONAL_INFO.name}</h3>
                                <p style={{ color: '#9ca3af', marginBottom: '1.5rem' }}>
                                    Biologist dedicated to understanding and conserving Neotropical biodiversity through ecoacoustics and landscape ecology.
                                </p>
                                <div style={{ display: 'flex', gap: '1rem' }}>
                                    <a href={`mailto:${PERSONAL_INFO.email}`} style={{ color: 'white', opacity: 0.7 }}><Icons.Mail /></a>
                                    <a href={PERSONAL_INFO.scholar} style={{ color: 'white', opacity: 0.7 }}><Icons.BookOpen /></a>
                                </div>
                            </div>

                            <div>
                                <h4 style={{ color: 'white', marginBottom: '1rem', fontSize: '1.1rem' }}>Contact</h4>
                                <ul style={{ listStyle: 'none', padding: 0, color: '#9ca3af', display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
                                    <li style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                        <Icons.Mail size={16} /> {PERSONAL_INFO.email}
                                    </li>
                                    <li style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                        <Icons.MapPin size={16} /> {PERSONAL_INFO.location}
                                    </li>
                                    <li style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                        <Icons.ExternalLink size={16} /> ORCID: {PERSONAL_INFO.orcid}
                                    </li>
                                </ul>
                            </div>
                            
                            <div>
                                <h4 style={{ color: 'white', marginBottom: '1rem', fontSize: '1.1rem' }}>Affiliation</h4>
                                <p style={{ color: '#9ca3af', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6f/Escudo_de_la_Universidad_de_Antioquia.svg" alt="UdeA" style={{ width: '24px', filter: 'invert(1)' }} />
                                    Universidad de Antioquia
                                </p>
                                <p style={{ color: '#9ca3af', marginTop: '0.5rem' }}>
                                    GHA - Grupo Herpetológico de Antioquia
                                </p>
                            </div>

                        </div>
                        
                        <div style={{ borderTop: '1px solid rgba(255,255,255,0.1)', paddingTop: '2rem', textAlign: 'center', color: '#6b7280', fontSize: '0.9rem' }}>
                            &copy; {new Date().getFullYear()} Victor M. Martinez-Arias. All rights reserved.
                        </div>
                    </div>
                </footer>
            );
        };

        const App = () => {
            return (
                <div>
                    <Nav />
                    <Hero />
                    <About />
                    <ResearchInterests />
                    <Timeline />
                    <Publications />
                    <Footer />
                    <Chatbot />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>